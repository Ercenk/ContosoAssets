services:
  contosoassets.ampintegration:
    build:
      context: D:\Projects\ContosoAssets
      dockerfile: src/ContosoAssets.AMPIntegration/Dockerfile
    depends_on:
    - sqldatabase
    environment:
      ASPNETCORE_ENVIRONMENT: Development
    image: contosoassetsampintegration
    ports:
    - target: 80
    volumes:
    - C:\Users\ercenk\AppData\Roaming\Microsoft\UserSecrets:/root/.microsoft/usersecrets:ro
  contosoassets.webapp:
    build:
      context: D:\Projects\ContosoAssets
      dockerfile: src/ContosoAssets.WebApp/Dockerfile
    depends_on:
    - sqldatabase
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ConnectionStrings__ContosoAssets: Server=sqldatabase;Initial Catalog=assets;User=sa;Password=V3ryS3cr3tP@ssw0rd;
    image: contosoassetswebapp
    ports:
    - target: 80
    volumes:
    - C:\Users\ercenk\AppData\Roaming\Microsoft\UserSecrets:/root/.microsoft/usersecrets:ro
  sqldatabase:
    environment:
      ACCEPT_EULA: "Y"
      SA_PASSWORD: V3ryS3cr3tP@ssw0rd
    image: mcr.microsoft.com/mssql/server
    ports:
    - published: 1433
      target: 1433
version: '3.4'